(()=>{"use strict";var e,t={337:(e,t,s)=>{var a=s(338);const r=window.React,n=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),i=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:d,...g},x)=>(0,r.createElement)("svg",{ref:x,...c,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:l("lucide",n),...!o&&!i(g)&&{"aria-hidden":"true"},...g},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(o)?o:[o]])),d=(e,t)=>{const s=(0,r.forwardRef)(({className:s,...a},i)=>{return(0,r.createElement)(o,{ref:i,iconNode:t,className:l(`lucide-${c=n(e),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...a});var c});return s.displayName=n(e),s},g=d("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),x=d("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),m=d("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),h=window.ReactJSXRuntime,b=()=>{const[e,t]=(0,r.useState)({none:{name:"None",data:[]}}),[s,a]=(0,r.useState)("none"),[n,l]=(0,r.useState)("ready"),[i,c]=(0,r.useState)([]),[o,d]=(0,r.useState)(0),[b,u]=(0,r.useState)(""),[f,p]=(0,r.useState)("normal"),[w,y]=(0,r.useState)(120),[v,j]=(0,r.useState)(0),[N,k]=(0,r.useState)(0);(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch(window.typingGameAPI.categoriesUrl),s=await e.json(),a={none:{name:"None",data:[]}};for(const e of s)try{const t=await fetch(`${window.typingGameAPI.commandsBaseUrl}${e.slug}`),s=await t.json();a[e.slug]={name:e.name,data:s}}catch(t){console.error(`Error loading commands for ${e.slug}:`,t),a[e.slug]={name:e.name,data:[]}}t(a)}catch(e){console.error("Error loading categories:",e)}})()},[]);const T=(e="ready",t="none")=>{l(e),d(0),c([]),u(""),y(120),"ready"===e&&(j(0),k(0),a(t))},B=e=>{const t=[...e];for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t};(0,r.useEffect)(()=>{if(T("ready",s),"none"!==s&&e[s]?.data){const t=e[s].data,a=B(t);c(a)}},[s,e]);const S=i[o];console.log("shuffledList commands:",i.map(e=>`${e.command} - ${e.description}`)),console.log("currentWord",S),console.log("currentWordIndex",o);const O=S?.command||"",$=S?.description||"";return(0,r.useEffect)(()=>{if("playing"===n){const e=setInterval(()=>{y(e=>e<=1?(T("end"),0):e-1)},1e3);return()=>clearInterval(e)}},[n]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"text-2xl font-bold mb-4",children:"プログラミングタイピングゲーム"}),(0,h.jsxs)("div",{className:"typing-game min-h-[60vh] border-2 border-gray-300 p-4 flex flex-col",children:[(0,h.jsx)("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(6rem,1fr))] gap-2 mb-4",children:Object.entries(e).map(([e,t])=>{if("none"!==e){const r=(e=>{const t={git:{bg:"bg-orange-100",text:"text-orange-700",selectedBg:"bg-orange-500",selectedText:"text-white"},docker:{bg:"bg-blue-100",text:"text-blue-700",selectedBg:"bg-blue-500",selectedText:"text-white"},ssh:{bg:"bg-gray-100",text:"text-gray-700",selectedBg:"bg-gray-500",selectedText:"text-white"},powershell:{bg:"bg-indigo-100",text:"text-indigo-700",selectedBg:"bg-indigo-500",selectedText:"text-white"},curl:{bg:"bg-green-100",text:"text-green-700",selectedBg:"bg-green-500",selectedText:"text-white"},javascript:{bg:"bg-yellow-100",text:"text-yellow-700",selectedBg:"bg-yellow-500",selectedText:"text-white"},cmd:{bg:"bg-slate-100",text:"text-slate-700",selectedBg:"bg-slate-500",selectedText:"text-white"},"prompt-engineering":{bg:"bg-purple-100",text:"text-purple-700",selectedBg:"bg-purple-500",selectedText:"text-white"},sql:{bg:"bg-cyan-100",text:"text-cyan-700",selectedBg:"bg-cyan-500",selectedText:"text-white"},es2015:{bg:"bg-amber-100",text:"text-amber-700",selectedBg:"bg-amber-500",selectedText:"text-white"},laravel:{bg:"bg-red-100",text:"text-red-700",selectedBg:"bg-red-500",selectedText:"text-white"}};if(t[e])return t[e];const s=[{bg:"bg-pink-100",text:"text-pink-700",selectedBg:"bg-pink-500",selectedText:"text-white"},{bg:"bg-teal-100",text:"text-teal-700",selectedBg:"bg-teal-500",selectedText:"text-white"},{bg:"bg-lime-100",text:"text-lime-700",selectedBg:"bg-lime-500",selectedText:"text-white"},{bg:"bg-emerald-100",text:"text-emerald-700",selectedBg:"bg-emerald-500",selectedText:"text-white"},{bg:"bg-violet-100",text:"text-violet-700",selectedBg:"bg-violet-500",selectedText:"text-white"},{bg:"bg-fuchsia-100",text:"text-fuchsia-700",selectedBg:"bg-fuchsia-500",selectedText:"text-white"},{bg:"bg-rose-100",text:"text-rose-700",selectedBg:"bg-rose-500",selectedText:"text-white"},{bg:"bg-sky-100",text:"text-sky-700",selectedBg:"bg-sky-500",selectedText:"text-white"}];let a=0;for(let t=0;t<e.length;t++)a=e.charCodeAt(t)+((a<<5)-a);return s[Math.abs(a)%s.length]})(e),n=s===e;return(0,h.jsx)("button",{onClick:()=>a(e),className:"h-[3rem] px-2 py-2 text-sm font-medium text-center whitespace-normal leading-tight rounded shadow-sm hover:shadow active:scale-95 transition-all duration-200 flex items-center justify-center cursor-pointer "+(n?`${r.selectedBg} ${r.selectedText} shadow-md`:`${r.bg} ${r.text}`),children:t.name},e)}})}),(0,h.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,h.jsxs)("div",{className:"min-w-[200px] flex gap-2 items-center justify-start gap-2",children:[(0,h.jsx)("span",{className:"text-sm text-gray-500",children:"Score"}),(0,h.jsx)("span",{className:"font-bold text-2xl",children:v}),(0,h.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"Miss"}),(0,h.jsx)("span",{className:"font-bold text-2xl",children:N})]}),(0,h.jsxs)("div",{className:"text-lg font-bold flex items-end justify-between gap-2",children:[(0,h.jsxs)("span",{className:"flex items-center gap-2",children:[(0,h.jsx)(g,{className:"inline-block w-5 h-5"})," Left Time"]}),(0,h.jsx)("span",{className:"text-2xl",children:w})]})]}),(0,h.jsxs)("div",{className:"flex-1 flex items-center justify-center",children:["ready"===n&&(0,h.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,h.jsx)("p",{className:"text-xl",children:"none"===s?"カテゴリーを選択してください":(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"font-bold text-2xl",children:e[s]?.name}),"で開始します"]})}),(0,h.jsxs)("button",{onClick:()=>{if("none"!==s&&e[s]?.data.length){if(0===i.length){const t=e[s].data,a=B(t);c(a)}l("playing")}},className:"font-bold text-white py-4 px-8 rounded-lg transition-colors duration-200 flex items-center gap-2 mb-4\n                "+("none"!==s&&e[s]?.data.length?"bg-blue-500 hover:bg-blue-600":"bg-gray-200 hover:shadow-none cursor-not-allowed"),children:[(0,h.jsx)(x,{className:"w-5 h-5"}),"Start Game"]})]}),"playing"===n&&(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("div",{className:"text-md text-gray-500 tracking-widest mb-4 min-h-20 flex items-end",children:$}),S&&(0,h.jsx)("div",{className:"relative",children:(0,h.jsxs)("div",{style:{fontFamily:"monospace"},className:"text-2xl p-4 border-2 rounded-lg w-full bg-white min-h-[60px] flex items-center\n                    focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-300\n                    "+("miss"===f?"focus-within:ring-red-300 focus-within:ring-3":"correct"===f?"focus-within:ring-green-300 focus-within:ring-3":""),tabIndex:0,onKeyDown:t=>{if(" "===t.key&&t.preventDefault(),"Shift"!==t.key)if(t.key===O[b.length]){const a=b+t.key;if(u(a),j(e=>e+1),a.length===O.length&&(d(o+1),u(""),j(e=>e+5),p("correct"),setTimeout(()=>{p("normal")},500),o===i.length-1)){const t=e[s].data,a=B(t);c(e=>[...e,...a])}}else j(e=>Math.max(e-2,0)),k(e=>e+1),p("miss"),setTimeout(()=>{p("normal")},500)},children:[(0,h.jsx)("span",{className:"text-green-500 bg-green-50 px-1",children:b}),(0,h.jsx)("span",{className:"text-gray-500",children:O.slice(b.length)})]})})]}),"end"===n&&(0,h.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,h.jsxs)("div",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,h.jsxs)("span",{children:["Score  ",v]}),(0,h.jsxs)("span",{children:["Miss  ",N]})]}),(0,h.jsxs)("button",{onClick:()=>T(),className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 px-8 rounded-lg transition-colors duration-200 flex items-center gap-2 mb-4",children:[(0,h.jsx)(m,{className:"w-5 h-5"}),"Retry Game"]})]})]})]})]})},u=document.getElementById("react-root");u&&(0,a.H)(u).render((0,h.jsx)(b,{}))},338:(e,t,s)=>{var a=s(795);t.H=a.createRoot,a.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var n=s[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,s,r,n)=>{if(!s){var l=1/0;for(d=0;d<e.length;d++){for(var[s,r,n]=e[d],i=!0,c=0;c<s.length;c++)(!1&n||l>=n)&&Object.keys(a.O).every(e=>a.O[e](s[c]))?s.splice(c--,1):(i=!1,n<l&&(l=n));if(i){e.splice(d--,1);var o=r();void 0!==o&&(t=o)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[s,r,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var r,n,[l,i,c]=s,o=0;if(l.some(t=>0!==e[t])){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var d=c(a)}for(t&&t(s);o<l.length;o++)n=l[o],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},s=globalThis.webpackChunkwp_script_test=globalThis.webpackChunkwp_script_test||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var r=a.O(void 0,[350],()=>a(337));r=a.O(r)})();